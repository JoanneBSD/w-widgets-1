{"version":3,"sources":["bsd-widget.js"],"names":["global","jQuery","host","location","hostname","window","undefined","fn","jquery","script_tag","document","createElement","setAttribute","readyState","onreadystatechange","scriptLoadHandler","onload","getElementsByTagName","documentElement","appendChild","main","getParam","sParam","sPageURL","decodeURIComponent","search","substring","sURLVariables","split","sParameterName","i","length","noConflict","e","t","s","a","href","r","responseJSON","parseJSON","responseText","status","code","message","error","Deferred","rejectWith","n","one","val","setCustomValidity","o","trigger","data","no_redirect","thanks_url","u","field_errors","each","find","field","d","get","l","noValidate","no_html5validate","$field","eq","click","c","serializeObject","f","replace","p","ajax","url","type","method","dataType","timeout","context","beforeSend","proxyall","crossDomain","support","cors","oldiexdr","protocol","oldproxy","preventDefault","statusText","then","always","done","fail","name","appendTo","serializeArray","push","value","RegExp","exec","m","g","h","bsdSignup","attr","off","removeData","is","indexOf","nosource","startPaused","on","token","tkn","success","html","embed_html","embed_script","insertBefore","text","signup","target","signupcounts","parseInt","percentage","css","hide","toggle","getJSON","serialize","formStr","not","prev","append","show","thankyou_redirect"],"mappings":"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","file":"bsd-widget.js","sourcesContent":["(function (global) {\n  var jQuery,\n      host = location.hostname;\n\n  /******** Load jQuery if not present *********/\n  if (window.jQuery === undefined || window.jQuery.fn.jquery !== '2.2.4') {\n    var script_tag = document.createElement('script');\n    script_tag.setAttribute(\"type\", \"text/javascript\");\n    script_tag.setAttribute(\"src\", \"//ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js\");\n    if (script_tag.readyState) {\n      script_tag.onreadystatechange = function () {\n        // For old versions of IE\n        if (this.readyState == 'complete' || this.readyState == 'loaded') {\n          scriptLoadHandler();\n        }\n      };\n    } else {\n      // Other browsers\n      script_tag.onload = scriptLoadHandler;\n    }\n    // Try to find the head, otherwise default to the documentElement\n    (document.getElementsByTagName(\"head\")[0] || document.documentElement).appendChild(script_tag);\n  } else {\n    // The jQuery version on the window is the one we want to use\n    jQuery = window.jQuery;\n    main();\n  }\n  function getParam(sParam) {\n    var sPageURL = decodeURIComponent(window.location.search.substring(1)),\n        sURLVariables = sPageURL.split('&'),\n        sParameterName,\n        i;\n\n    for (i = 0; i < sURLVariables.length; i++) {\n      sParameterName = sURLVariables[i].split('=');\n\n      if (sParameterName[0] === sParam) {\n        return sParameterName[1] === undefined ? true : sParameterName[1];\n      }\n    }\n  }\n\n  /******** Called once jQuery has loaded ******/\n  function scriptLoadHandler() {\n    // Restore $ and window.jQuery to their previous values and store the\n    // new jQuery in our local jQuery variable\n    jQuery = window.jQuery.noConflict(true);\n    // Call our main function\n    main();\n  }\n  //# sourceMappingURL=bsd-signup-jsapi-simple.js.map\n  function main() {\n    !function (e, t, s) {\n      function a(e) {\n        var t = document.createElement(\"a\");return t.href = e, t;\n      }function r(t) {\n        var s = \"No response from sever\";if (t && t.responseJSON) return t.responseJSON;try {\n          return e.parseJSON(t.responseText);\n        } catch (a) {\n          return { status: \"fail\", code: 503, message: s, error: s };\n        }\n      }function i(t) {\n        return t && \"success\" === t.status ? t : e.Deferred().rejectWith(this, [t]);\n      }function n(e, t, s) {\n        e.one(\"change keyup\", function () {\n          e.val() !== s && t.setCustomValidity(\"\");\n        });\n      }function o(e) {\n        this.trigger(\"bsd-success\", [e]), this.data(\"bsdsignup\").no_redirect !== !0 && e.thanks_url && (t.href = e.thanks_url);\n      }function u(t) {\n        var s = this,\n            a = !1,\n            r = this.data(\"bsdsignup\"),\n            i = {};t && t.field_errors && t.field_errors.length && (e.each(t.field_errors, function (e, o) {\n          var u = s.find('[name=\"' + o.field + '\"]'),\n              d = u.get()[0];\"submit-btn\" === o.field ? t.message = o.message : d && d.setCustomValidity && l && !s[0].noValidate && !r.no_html5validate && (d.setCustomValidity(o.message), n(u, d, o.message), a = !0), o.$field = u, i[o.field] = o.message, u.trigger(\"invalid\", o.message);\n        }), a && l && s.find('[type=\"submit\"],[type=\"image\"]').eq(0).click()), s.trigger(\"bsd-error\", [t, i]);\n      }function d(s, n, d) {\n        return function (c) {\n          var l = s.serializeObject();if (s.data(\"isPaused\") !== !0) {\n            s.data(\"isPaused\", !0);var f = n.replace(\"/\\/page\\/(signup|s)/\", \"/page/sapi\"),\n                p = e.ajax({ url: f, type: \"POST\", method: \"POST\", dataType: \"json\", timeout: d.timeout || 3e4, context: s, data: l, beforeSend: function (s, r) {\n                if (d.proxyall || r.crossDomain && !e.support.cors && (!e.oldiexdr || a(r.url).protocol !== t.protocol)) {\n                  if (!d.oldproxy && !d.proxyall) return !1;r.url = d.oldproxy || d.proxyall, r.crossDomain = !1, r.data += \"&purl=\" + f;\n                }c.preventDefault();\n              } });\"canceled\" !== p.statusText && (s.trigger(\"bsd-submit\", l), p.then(i, r).always(function () {\n              s.data(\"isPaused\", !1);\n            }).done(o).fail(u));\n          } else c.preventDefault(), s.trigger(\"bsd-ispaused\", l);\n        };\n      }function c(t, s, a) {\n        var r,\n            i = t.find('[name=\"' + s + '\"]');i.length || (i = e(\"<input/>\", { type: \"hidden\", name: s }).appendTo(t)), a && (r = i.val(), i.val((\"\" !== r ? r + \",\" : \"\") + a));\n      }e.fn.serializeObject = function () {\n        var t = {},\n            a = this.serializeArray();return e.each(a, function () {\n          t[this.name] !== s ? (t[this.name].push || (t[this.name] = [t[this.name]]), t[this.name].push(this.value || \"\")) : t[this.name] = this.value || \"\";\n        }), t;\n      };var l = \"reportValidity\" in e(\"<form/>\").get()[0],\n          f = function (e) {\n        var s = new RegExp(\"[\\\\?&]\" + e.replace(/(\\[|\\])/g, \"\\\\$1\") + \"=([^&#]*)\"),\n            a = s.exec(t.href);return null === a ? \"\" : a[1];\n      },\n          p = \"source\",\n          m = \"subsource\",\n          g = f(p) || f(\"fb_ref\"),\n          h = f(m);e.fn.bsdSignup = function (t) {\n        return t = t || {}, this.each(function () {\n          var s = e(this),\n              a = s.attr(\"action\");\"remove\" === t ? s.off(\"submit.bsdsignup\").removeData(\"bsdsignup isPaused\") : s.is(\"form\") && a.indexOf(\"page/s\") > -1 && (s.data(\"bsdsourced\") === !0 || t.nosource || (c(s, p, g), c(s, m, h), s.data(\"bsdsourced\", !0)), s.data(\"bsdsignup\", t), t.startPaused && s.data(\"isPaused\", !0), s.on(\"submit.bsdsignup\", d(s, a, t)));\n        });\n      };\n    }(jQuery, window.location);\n    var token = jQuery('#w-embed').data('token');\n    if (!token) {\n      var token = getParam('tkn');\n    }\n\n    jQuery.ajax({\n      url: '//'+host+'/server/embed.php',\n      method: 'GET',\n      dataType: 'json',\n      data: { tkn: token },\n      success: function (data) {\n\n        jQuery('#w-embed').html(data[0].embed_html);\n\n        jQuery('<script type=\"text/javascript\">  var jQuery;if(void 0===window.jQuery||\"2.2.4\"!==window.jQuery.fn.jquery){var script_tag=document.createElement(\"script\");script_tag.setAttribute(\"type\",\"text/javascript\"),script_tag.setAttribute(\"src\",\"//ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js\"),script_tag.readyState?script_tag.onreadystatechange=function(){\"complete\"!=this.readyState&&\"loaded\"!=this.readyState||scriptLoadHandler()}:script_tag.onload=scriptLoadHandler,(document.getElementsByTagName(\"head\")[0]||document.documentElement).appendChild(script_tag)}else jQuery=window.jQuery,main(); function scriptLoadHandler(){jQuery=window.jQuery.noConflict(!0),main()} function main(){ !function(e,t,r){function n(e){var t=document.createElement(\"a\");return t.href=e,t}function i(t){var r=\"No response from sever\";if(t&&t.responseJSON)return t.responseJSON;try{return e.parseJSON(t.responseText)}catch(n){return{status:\"fail\",code:503,message:r,error:r}}}function s(t){return t&&\"success\"===t.status?t:e.Deferred().rejectWith(this,[t])}function a(e,t,r){e.one(\"change keyup\",function(){e.val()!==r&&t.setCustomValidity(\"\")})}function o(e){this.trigger(\"bsd-success\",[e]),this.data(\"no_redirect\")!==!0&&e.thanks_url&&(t=e.thanks_url)}function u(t){var r=this,n=!1,i={};t&&t.field_errors&&t.field_errors.length&&(e.each(t.field_errors,function(e,s){var o=r.find(\\'[name=\"\\'+s.field+\\'\"]\\'),u=o.get()[0];\"submit-btn\"===s.field?t.message=s.message:u&&u.setCustomValidity&&f&&r.data(\"no_html5validate\")!==!0&&(u.setCustomValidity(s.message),a(o,u,s.message),n=!0),s.$field=o,i[s.field]=s.message,o.trigger(\"invalid\",s.message)}),n&&f&&r.find(\\'[type=\"submit\"],[type=\"image\"]\\').eq(0).click()),r.trigger(\"bsd-error\",[t,i])}function c(r,a,c){return function(l){var f=r.serializeObject(),d=a.replace(\"/page/(signup|s)/\",\"/page/sapi\"),m=e.ajax({url:d,type:\"POST\",method:\"POST\",dataType:\"json\",timeout:c.timeout||3e4,context:r,data:f,beforeSend:function(r,i){if(i.crossDomain&&!e.support.cors&&(!e.oldiexdr||n(i.url).protocol!==t.protocol)){if(!c.oldproxy)return!1;i.url=c.oldproxy,i.crossDomain=!1,i.data+=\"&purl=\"+d}l.preventDefault()}});\"canceled\"!==m.statusText&&m.then(s,i).done(o).fail(u)}}function l(t,r,n){var i,s=t.find(\\'[name=\"\\'+r+\\'\"]\\');s.length||(s=e(\"<input/>\",{type:\"hidden\",name:r}).appendTo(t)),n&&(i=s.val(),s.val((\"\"!==i?i+\",\":\"\")+n))}e.fn.serializeObject=function(){var t={},n=this.serializeArray();return e.each(n,function(){t[this.name]!==r?(t[this.name].push||(t[this.name]=[t[this.name]]),t[this.name].push(this.value||\"\")):t[this.name]=this.value||\"\"}),t};var f=\"reportValidity\"in e(\"<form/>\").get()[0],d=function(e){var r=new RegExp(\"[\\?&]\"+e.replace(/([|])/g,\"\\$1\")+\"=([^&#]*)\"),n=r.exec(t.href);return null===n?\"\":n[1]},m=\"source\",p=\"subsource\",h=d(m)||d(\"fb_ref\"),g=d(p);e.fn.bsdSignup=function(t){return this.each(function(){var r=e(this),n=r.attr(\"action\");r.is(\"form\")&&n.indexOf(\"page/s\")>-1&&(l(r,m,h),l(r,p,g),e.isPlainObject(t)&&r.data(t),r.on(\"submit\",c(r,n,t)))})}}(jQuery,window.location); ' + data[0].embed_script + '   }</script>').insertBefore('#w-embed');\n\n        jQuery('#bsd_widget_source').val(window.location.href);\n\n        jQuery('#signup_counter').text(data[1].signup);\n\n        var target = jQuery('.progress-bar').data('target');\n        var signupcounts = data[1].signup;\n        signupcounts = signupcounts.replace(',', '');\n        signupcounts = parseInt(signupcounts);\n        var percentage = signupcounts * 100 / target;\n        if (percentage > 100) {\n          percentage = 100;\n        }\n        jQuery('.progress').css({ 'width': percentage + '%' });\n\n        if (jQuery('.bsd-embed-intro').length > 0) {\n          jQuery('.bsd-embed-form').hide();\n          jQuery('#w-embed').on('click', '.bsd-embed-intro .expand-petition', function () {\n            jQuery('.bsd-embed-intro').toggle();\n            jQuery('.bsd-embed-form').toggle();\n          });\n        }\n\n        jQuery(\".thankyou-wrapper\").hide();\n\n        jQuery('.apiform').on('submit', function (e) {\n          e.preventDefault();\n\n          jQuery.getJSON(\"//\" + host + \"/server/proxy.php?callback=?&\" + jQuery(\".apiform\").serialize(), function () {\n            // e.preventDefault();\n            //thank you page\n            if (jQuery('.thankyou-wrapper').length > 0) {\n              jQuery('.bsd-embed-form').hide();\n\n              if (jQuery('.form-post').length > 0) {\n\n                var formStr = '';\n\n                jQuery('#w-embed .form-row').each(function () {\n                  if (jQuery(this).find('.visible-label').not('.visible-label--select').length > 0) {\n                    formStr += '<p>' + jQuery(this).find('.form-radio--label').text() + ' : ';\n                    if (jQuery(this).find('.w--input-field:checked').val()) {\n                      formStr += jQuery(this).find('.w--input-field:checked').prev('.visible-label').text() + ' <br />';\n                    }\n                    formStr += '</p>';\n                  } else {\n\n                    if (jQuery(this).find('.w--input-field').val()) {\n                      formStr += '<p>' + jQuery(this).find('label').text() + ' : ' + jQuery(this).find('.w--input-field').val() + '</p>';\n                    }\n                  }\n                });\n              }\n\n              jQuery('.form-post').append(formStr);\n              jQuery(\".thankyou-wrapper\").show();\n            } else {\n              window.location.replace(data[0].thankyou_redirect);\n            }\n            //update form data\n          });\n        });\n      },\n      error: function () {\n        return false;\n      }\n    });\n  }\n})(this);\n//# sourceMappingURL=bsd-widget.js.map\n//# sourceMappingURL=bsd-widget.js.map\n"],"sourceRoot":"/source/"}